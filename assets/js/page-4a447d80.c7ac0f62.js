(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{495:function(s,a,n){"use strict";n.r(a);var t=n(2),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("windows下的TortoiseSVN服务端是相当好用的，界面管理方便，增删改查用户和库都比较好用，但是linux下的svn就比较折腾人。")]),s._v(" "),n("p",[s._v("之前安装过apache整合svn，虽然有web界面可以看，但是也不是那么好管理，昨天晚上受朋友所托，需要通过可视化工具来增删改查用户和库。")]),s._v(" "),n("p",[s._v("试了一圈以后最后找到了这个svnadmin。是使用php写的。他吸引我的主要是安装和配置都非常简单和人性化。而且也有强大的功能。")]),s._v(" "),n("p",[s._v("支持repo管理、用户管理、用户组管理、权限管理、LDAP等，界面可以算是中规中矩。")]),s._v(" "),n("blockquote",[n("ul",[n("li",[s._v("操作系统：CentOS-6.5-64bit")]),s._v(" "),n("li",[s._v("版本管理：Subversion-1.6.11")]),s._v(" "),n("li",[s._v("管理软件：F.SVNAdmin-stable-1.6.2")]),s._v(" "),n("li",[s._v("web引擎： Apache/2.2.3 (端口8888) & nginx/1.4.4 (端口80) & PHP 5.4.0")]),s._v(" "),n("li",[s._v("ip地址：  192.168.1.2")])])]),s._v(" "),n("h2",{attrs:{id:"源码编译安装lnmp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#源码编译安装lnmp"}},[s._v("#")]),s._v(" 源码编译安装lnmp")]),s._v(" "),n("pre",[n("code",[s._v("git clone https://git.coding.net/svip/lnamp.git\nsh lnmp/lnmp.sh\n")])]),s._v(" "),n("p",[s._v("这里使用源码编译lnmp环境主要是后面需要yum安装httpd和svn(这样子的好处是，默认会整合好apache和svn无需手动在整合配置)，apache只服务于svn，而nginx+php则是为了跑svnadmin")]),s._v(" "),n("h2",{attrs:{id:"yum安装apache-svn"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#yum安装apache-svn"}},[s._v("#")]),s._v(" yum安装apache+svn")]),s._v(" "),n("pre",[n("code",[s._v("yum -y install httpd subversion mod_dav_svn\n")])]),s._v(" "),n("h2",{attrs:{id:"配置apache的svn"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置apache的svn"}},[s._v("#")]),s._v(" 配置apache的svn")]),s._v(" "),n("p",[s._v("装完SVN后默认生成/etc/httpd/conf.d/subversion.conf文件")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ setup"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/httpd/conf.d/subversion.conf ")]),s._v("\n\nLoadModule dav_svn_module     modules/mod_dav_svn.so\nLoadModule authz_svn_module   modules/mod_authz_svn.so\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Location /project/"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            DAV svn\n            SVNListParentPath on\n            SVNParentPath /var/www/svn\n            AuthType Basic\n            AuthName "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Subversion repository"')]),s._v("\n            AuthUserFile /var/www/svnconfig/passwdfile\n            AuthzSVNAccessFile /var/www/svnconfig/accessfile\n            Require valid-user\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/Location"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("h2",{attrs:{id:"创建svn-repo目录和权限信息目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建svn-repo目录和权限信息目录"}},[s._v("#")]),s._v(" 创建SVN repo目录和权限信息目录")]),s._v(" "),n("pre",[n("code",[s._v("mkdir /var/www/svn\nmkdir /var/www/svnconfig\n")])]),s._v(" "),n("h2",{attrs:{id:"创建svn权限文件和密码文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建svn权限文件和密码文件"}},[s._v("#")]),s._v(" 创建SVN权限文件和密码文件")]),s._v(" "),n("p",[s._v("创建权限控制文件")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /var/www/svnconfig/accessfile")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("aliases"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("groups"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n*"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rw\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("qa_project:/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("创建用户密码文件，注意这里的密码必须是加密的，需要使用 "),n("code",[s._v("htpasswd -c 123 user1")]),s._v("生成")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /var/www/svnconfig/passwdfile")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# harry = harryssecret")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sally = sallyssecret")]),s._v("\nuser1:aWW1oIsRihOHc\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h2",{attrs:{id:"安装if-svnadmin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装if-svnadmin"}},[s._v("#")]),s._v(" 安装iF.SVnAdmin")]),s._v(" "),n("pre",[n("code",[s._v("wget http://sourceforge.net/projects/ifsvnadmin/files/svnadmin-1.6.2.zip\nunzip svnadmin-1.6.2.zip\nmv iF.SVNAdmin-stable-1.6.2 /home/wwwroot/svnadmin\nchmod 777 -R /home/wwwroot/svnadmin/data\n")])]),s._v(" "),n("p",[s._v("配置nginx,配置apache，注意2个web引擎的端口不要冲突，并开启相应端口到防火墙")]),s._v(" "),n("h2",{attrs:{id:"初始化if-svnadmin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初始化if-svnadmin"}},[s._v("#")]),s._v(" 初始化iF.SVnAdmin")]),s._v(" "),n("p",[s._v("浏览器输入http://192.168.1.2/svnadmin/index.php")]),s._v(" "),n("p",[s._v("使用刚才生成的密码登陆进去可以看到下面的配置页面")]),s._v(" "),n("p",[n("img",{attrs:{src:"http://r.loli.io/meMjmi.png",alt:""}}),s._v("\n选择Test提示没有写入权限的话chmod一下，")]),s._v(" "),n("p",[s._v("登录后如下，可以看到软件版本信息、已有的仓库、用户、组、权限路径等")]),s._v(" "),n("h2",{attrs:{id:"投入使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#投入使用"}},[s._v("#")]),s._v(" 投入使用")]),s._v(" "),n("p",[s._v("svn管理地址   http://192.168.1.2/svnadmin/index.php\nsvn项目地址   http://192.168.1.2:8888/project/project_name/")])])}),[],!1,null,null,null);a.default=e.exports}}]);