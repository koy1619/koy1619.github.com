(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{479:function(e,s,r){"use strict";r.r(s);var n=r(2),t=Object(n.a)({},(function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("HTTPS（全称：Hyper Text Transfer Protocol over Secure Socket Layer），是以安全为目标的HTTP通道，简单讲是HTTP的安全版。即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。")]),e._v(" "),r("h3",{attrs:{id:"首先确保系统上安装了openssl和openssl-devel"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#首先确保系统上安装了openssl和openssl-devel"}},[e._v("#")]),e._v(" 首先确保系统上安装了openssl和openssl-devel")]),e._v(" "),r("pre",[r("code",[e._v("# yum install openssl\n# yum install openssl-devel\n")])]),e._v(" "),r("h3",{attrs:{id:"nginx需要支持ssl模块"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#nginx需要支持ssl模块"}},[e._v("#")]),e._v(" nginx需要支持ssl模块")]),e._v(" "),r("pre",[r("code",[e._v("# ./configure --user=www --group=www --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module \n")])]),e._v(" "),r("h3",{attrs:{id:"生成证书"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#生成证书"}},[e._v("#")]),e._v(" 生成证书")]),e._v(" "),r("p",[e._v("进入/etc/pki/tls/certs目录使用openssl生成")]),e._v(" "),r("pre",[r("code",[e._v("# cd /etc/pki/tls/certs/\n# make server.key  //生成私钥\n# openssl rsa -in server.key -out server.key  //除去密码以便询问时不需要密码\n# make server.csr  //生成证书颁发机构,用于颁发公钥\n# openssl x509 -in server.csr -req -signkey server.key -days 365 -out server.crt\n")])]),e._v(" "),r("p",[e._v("注意：最后一步是颁发公钥，不过由于我们并不是去CA证书中心申请的公钥，所以在使用的时候，客户端浏览器会跳出未受信任的警告。如果你在生产环境下，请去CA申请"),r("a",{attrs:{href:"https://billing.centriohost.com/cart.php?a=add&pid=21",target:"_blank",rel:"noopener noreferrer"}},[e._v("enter link description here"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("h3",{attrs:{id:"编辑nginx虚拟主机配置文件，添加ssl模块参数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#编辑nginx虚拟主机配置文件，添加ssl模块参数"}},[e._v("#")]),e._v(" 编辑nginx虚拟主机配置文件，添加ssl模块参数")]),e._v(" "),r("pre",[r("code",[e._v("vim /usr/local/nginx/conf/vhosts/server.com.conf\nserver { \n    listen       443;  监听端口为443 \n    server_name  server.com; \n\n    ssl                  on;  //开启ssl \n    ssl_certificate      /etc/pki/tls/certs/server.crt;  //证书位置 \n    ssl_certificate_key  /etc/pki/tls/certs/server.key;  //私钥位置 \n    ssl_session_timeout  5m;    //session超时\n    ssl_protocols  SSLv2 SSLv3 TLSv1;  //指定密码为openssl支持的格式 \n    ssl_ciphers  HIGH:!aNULL:!MD5; //密码加密方式 \n    ssl_prefer_server_ciphers   on; //依赖SSLv3和TLSv1协议的服务器密码将优先于客户端密码 \n\n    location / { \n        root   /home/wwwroot;\n        index  index.html index.htm; \n    } \n}\n")])])])}),[],!1,null,null,null);s.default=t.exports}}]);