(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{471:function(s,a,n){"use strict";n.r(a);var t=n(2),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"树莓派django试玩"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#树莓派django试玩"}},[s._v("#")]),s._v(" 树莓派Django试玩")]),s._v(" "),n("p",[s._v("=========================================")]),s._v(" "),n("p",[s._v("由于博主最近在学习python，所以顺手玩了下Django")]),s._v(" "),n("p",[s._v("Django是Python下的一款网络服务器框架。Python下有许多款不同的框架。Django是重量级选手中最有代表性的一位。许多成功的网站和APP都基于Django。")]),s._v(" "),n("h3",{attrs:{id:"安装pip"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装pip"}},[s._v("#")]),s._v(" "),n("strong",[s._v("安装pip")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python-pip python-dev build-essential \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pip "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --upgrade pip\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"安装django"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装django"}},[s._v("#")]),s._v(" "),n("strong",[s._v("安装Django")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pip "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" django\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("安装成功之后我们可以进入python命令行查看django版本")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("pi@raspberrypi ~/python_test $ python\nPython "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.7")]),s._v(".3 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default, Mar "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014")]),s._v(", 05:13:23"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GCC "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.6")]),s._v(".3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" on linux2\nType "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"help"')]),s._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"copyright"')]),s._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"credits"')]),s._v(" or "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"license"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v("         information.\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" django\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" print"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("django.VERSION"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'final'")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"启动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" "),n("strong",[s._v("启动")])]),s._v(" "),n("p",[s._v("使用下面的命令创建项目：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("django-admin.py startproject django_site\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在当前目录下，将生成django_site文件夹。其文件树结构如下:")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("pi@raspberrypi ~ $ tree django_site/\ndjango_site/\n├── django_site\n│   ├── __init__.py\n│   ├── settings.py\n│   ├── urls.py\n│   └── wsgi.py\n└── manage.py\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" directory, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" files\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("进入django_site，启动服务器：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("pi@raspberrypi ~ $ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" django_site/\npi@raspberrypi ~/django_site $ python manage.py runserver "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v("\nValidating models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" errors found\nMay "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":46:51\nDjango version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.6")]),s._v(".5, using settings "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django_site.settings'")]),s._v("\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("进入树莓派桌面并打开浏览器，访问"),n("a",{attrs:{href:"http://127.0.0.1:8000%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B7%B2%E7%BB%8F%E5%9C%A8%E8%BF%90%E8%A1%8C%EF%BC%9A",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://127.0.0.1:8000，可以看到服务器已经在运行："),n("OutboundLink")],1)]),s._v(" "),n("p",[n("img",{attrs:{src:"https://i.loli.net/2019/10/16/r96wK7UJG84pHgV.jpg",alt:""}})]),s._v(" "),n("h3",{attrs:{id:"第一个网页’hello-word’"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一个网页’hello-word’"}},[s._v("#")]),s._v(" "),n("strong",[s._v("第一个网页’hello word’")])]),s._v(" "),n("p",[s._v("修改urls.py")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("pi@raspberrypi ~/django_site/django_site $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /home/pi/django_site/django_site/urls.py\n\nfrom django.conf.urls "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" patterns, include, url\n\nfrom django.contrib "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" admin\nadmin.autodiscover"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nurlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" patterns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(",\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Examples:")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# url(r'^$', 'mysite.views.home', name='home'),")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# url(r'^blog/', include('blog.urls')),")]),s._v("\n\n    url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^admin/'")]),s._v(", include"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("admin.site.urls"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v(",\n    url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^$'")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django_site.views.first_page'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("我们添加了最后一行。它将根目录的URL分配给一个对象进行处理，这个对象是django_site.first_page。")]),s._v(" "),n("p",[s._v("用以处理HTTP请求的这一对象还不存在，我们在django_site/django_site下创建views.py，并在其中定义first_page函数:")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("pi@raspberrypi ~/django_site/django_site $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" views.py \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -*- coding: utf-8 -*-")]),s._v("\n\nfrom django.http "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" HttpResponse\n\ndef first_page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" HttpResponse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<p>Hello World</p>"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("第一行说明字符编码为utf-8，为下面使用中文做准备。first_page函数的功能，是返回http回复，即这里的"),n("strong",[s._v("Hello World")]),s._v(" 。first_page有一个参数request，该参数包含有请求的具体信息，比如请求的类型等，这里并没有用到。")]),s._v(" "),n("p",[s._v("页面效果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://i.loli.net/2019/10/16/sQVjONghmLT2roq.jpg",alt:""}})]),s._v(" "),n("p",[s._v("到此就可以尽情感受在树莓派上Django的编程乐趣了！")])])}),[],!1,null,null,null);a.default=e.exports}}]);