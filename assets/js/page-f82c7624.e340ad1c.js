(window.webpackJsonp=window.webpackJsonp||[]).push([[182],{472:function(s,n,a){"use strict";a.r(n);var t=a(2),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("由于服务器需要升级python，参照了一篇坑爹的文章卸载了旧版python\n卸载旧的python")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -evf --nodeps python\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("导致yum无法使用")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum -v")]),s._v("\nThere was a problem importing one of the Python modules\nrequired to run yum. The error leading to this problem was:\nNo module named yum"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("br /"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nPlease "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" a package "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" provides this module, or\nverify that the module is installed correctly.\nIt"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s possible that the above module doesn'")]),s._v("t match the\ncurrent version of Python, "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" is:\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(".3 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1, Sep  3 2009, 15:37:12)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GCC "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.1")]),s._v(".2 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20080704")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Red Hat "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.1")]),s._v(".2-46"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    If you cannot solve this problem yourself, please go to\n    the yum faq at:http://wiki.linux.duke.edu/YumFaq`\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("由于yum是基于python"),a("br"),s._v("\ncentos6.2默认使用python2.6.6，我又源码安装了一遍python2.6.6，"),a("br"),s._v("\n修改了vi /usr/bin/yum")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#/usr/bin/python修改为#/usr/bin/python2.4")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("执行yum-v还是不行~~")]),s._v(" "),a("p",[s._v("于是就从centos6.2光盘找python和yum的rpm包安装，一番尝试之后，发现有N个package需要重新安装，这里就不写尝试过程，终于搞定！")]),s._v(" "),a("p",[s._v("解决方法如下")]),s._v(" "),a("p",[s._v("cnetos6.2*64光盘rpm包地址http://mirrors.ustc.edu.cn/centos/6.2/os/x86_64/Packages/")]),s._v(" "),a("p",[s._v("需要安装这几个包")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("python-2.6.6-29.el6.x86_64.rpm\npython-devel-2.6.6-29.el6.x86_64.rpm\npython-iniparse-0.3.1-2.1.el6.noarch.rpm\npython-setuptools-0.6.10-3.el6.noarch.rpm\npython-urlgrabber-3.9.1-8.el6.noarch.rpm\nrpm-python-4.8.0-19.el6.x86_64.rpm\nyum-3.2.29-22.el6.centos.noarch.rpm\nyum-metadata-parser-1.1.2-16.el6.x86_64.rpm\npython-pycurl-7.19.0-8.el6.x86_64.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("注意rpm命令，必须要追加 –replacepkgs 参数，强制其重新安装，否则rpm会报告说package已安装。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh –replacepkgs ***.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果仍然无法运行Yum，则运行 Python，import yum，查询下缺少什么东西。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# python")]),s._v("\nPython "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.6")]),s._v(".6 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r266:84292, Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2011")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":48:22"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GCC "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.4")]),s._v(".6 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20110731")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Red Hat "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.4")]),s._v(".6-3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" on linux2\nType “help”, “copyright”, “credits” or “license” "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" information. \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" yum\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("如果仍有packag 缺失，import yum，会提示相关的错误，查找对应的rpm，装上即可，重复此过程，直到 yum 正常。")])])}),[],!1,null,null,null);n.default=e.exports}}]);