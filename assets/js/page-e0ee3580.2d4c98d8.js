(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{380:function(s,a,n){s.exports=n.p+"assets/img/r96wK7UJG84pHgV.63d58982.jpg"},381:function(s,a,n){s.exports=n.p+"assets/img/sQVjONghmLT2roq.7ec96e51.jpg"},521:function(s,a,n){"use strict";n.r(a);var t=n(2),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"树莓派django试玩"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#树莓派django试玩"}},[s._v("#")]),s._v(" 树莓派Django试玩")]),s._v(" "),t("p",[s._v("=========================================")]),s._v(" "),t("p",[s._v("由于博主最近在学习python，所以顺手玩了下Django")]),s._v(" "),t("p",[s._v("Django是Python下的一款网络服务器框架。Python下有许多款不同的框架。Django是重量级选手中最有代表性的一位。许多成功的网站和APP都基于Django。")]),s._v(" "),t("h3",{attrs:{id:"安装pip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装pip"}},[s._v("#")]),s._v(" "),t("strong",[s._v("安装pip")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python-pip python-dev build-essential \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --upgrade pip\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"安装django"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装django"}},[s._v("#")]),s._v(" "),t("strong",[s._v("安装Django")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" django\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("安装成功之后我们可以进入python命令行查看django版本")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pi@raspberrypi ~/python_test $ python\nPython "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.7")]),s._v(".3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default, Mar "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014")]),s._v(", 05:13:23"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GCC "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.6")]),s._v(".3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" on linux2\nType "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"help"')]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"copyright"')]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"credits"')]),s._v(" or "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"license"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v("         information.\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" django\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" print"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("django.VERSION"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'final'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" "),t("strong",[s._v("启动")])]),s._v(" "),t("p",[s._v("使用下面的命令创建项目：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("django-admin.py startproject django_site\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("在当前目录下，将生成django_site文件夹。其文件树结构如下:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pi@raspberrypi ~ $ tree django_site/\ndjango_site/\n├── django_site\n│   ├── __init__.py\n│   ├── settings.py\n│   ├── urls.py\n│   └── wsgi.py\n└── manage.py\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" directory, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" files\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("进入django_site，启动服务器：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pi@raspberrypi ~ $ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" django_site/\npi@raspberrypi ~/django_site $ python manage.py runserver "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v("\nValidating models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" errors found\nMay "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014")]),s._v(" - "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":46:51\nDjango version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.6")]),s._v(".5, using settings "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django_site.settings'")]),s._v("\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("进入树莓派桌面并打开浏览器，访问"),t("a",{attrs:{href:"http://127.0.0.1:8000%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B7%B2%E7%BB%8F%E5%9C%A8%E8%BF%90%E8%A1%8C%EF%BC%9A",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://127.0.0.1:8000，可以看到服务器已经在运行："),t("OutboundLink")],1)]),s._v(" "),t("p",[t("img",{attrs:{src:n(380),alt:""}})]),s._v(" "),t("h3",{attrs:{id:"第一个网页’hello-word’"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第一个网页’hello-word’"}},[s._v("#")]),s._v(" "),t("strong",[s._v("第一个网页’hello word’")])]),s._v(" "),t("p",[s._v("修改urls.py")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pi@raspberrypi ~/django_site/django_site $ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /home/pi/django_site/django_site/urls.py\n\nfrom django.conf.urls "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" patterns, include, url\n\nfrom django.contrib "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" admin\nadmin.autodiscover"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nurlpatterns "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" patterns"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Examples:")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# url(r'^$', 'mysite.views.home', name='home'),")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# url(r'^blog/', include('blog.urls')),")]),s._v("\n\n    url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^admin/'")]),s._v(", include"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("admin.site.urls"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v(",\n    url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^$'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django_site.views.first_page'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("我们添加了最后一行。它将根目录的URL分配给一个对象进行处理，这个对象是django_site.first_page。")]),s._v(" "),t("p",[s._v("用以处理HTTP请求的这一对象还不存在，我们在django_site/django_site下创建views.py，并在其中定义first_page函数:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pi@raspberrypi ~/django_site/django_site $ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" views.py \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -*- coding: utf-8 -*-")]),s._v("\n\nfrom django.http "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" HttpResponse\n\ndef first_page"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" HttpResponse"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<p>Hello World</p>"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("第一行说明字符编码为utf-8，为下面使用中文做准备。first_page函数的功能，是返回http回复，即这里的"),t("strong",[s._v("Hello World")]),s._v(" 。first_page有一个参数request，该参数包含有请求的具体信息，比如请求的类型等，这里并没有用到。")]),s._v(" "),t("p",[s._v("页面效果如下：")]),s._v(" "),t("p",[t("img",{attrs:{src:n(381),alt:""}})]),s._v(" "),t("p",[s._v("到此就可以尽情感受在树莓派上Django的编程乐趣了！")])])}),[],!1,null,null,null);a.default=e.exports}}]);