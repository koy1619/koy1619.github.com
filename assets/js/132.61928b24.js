(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{438:function(a,s,t){"use strict";t.r(s);var n=t(2),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"centos6安装subversion-可视化管理工具if-svnadmin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos6安装subversion-可视化管理工具if-svnadmin","aria-hidden":"true"}},[a._v("#")]),a._v(" CentOS6安装subversion 可视化管理工具iF.SVNAdmin")]),a._v(" "),t("p",[a._v("windows下的TortoiseSVN服务端是相当好用的，界面管理方便，增删改查用户和库都比较好用，但是linux下的svn就比较折腾人。\n")]),a._v(" "),t("p",[a._v("之前安装过apache整合svn，虽然有web界面可以看，但是也不是那么好管理，昨天晚上受朋友所托，需要通过可视化工具来增删改查用户和库。")]),a._v(" "),t("p",[a._v("试了一圈以后最后找到了这个svnadmin。是使用php写的。他吸引我的主要是安装和配置都非常简单和人性化。而且也有强大的功能。")]),a._v(" "),t("p",[a._v("支持repo管理、用户管理、用户组管理、权限管理、LDAP等，界面可以算是中规中矩。")]),a._v(" "),t("blockquote",[t("ul",[t("li",[a._v("操作系统：CentOS-6.5-64bit")]),a._v(" "),t("li",[a._v("版本管理：Subversion-1.6.11")]),a._v(" "),t("li",[a._v("管理软件：F.SVNAdmin-stable-1.6.2")]),a._v(" "),t("li",[a._v("web引擎： Apache/2.2.3 (端口8888) & nginx/1.4.4 (端口80) & PHP 5.4.0")]),a._v(" "),t("li",[a._v("ip地址：  192.168.1.2")])])]),a._v(" "),t("h2",{attrs:{id:"源码编译安装lnmp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#源码编译安装lnmp","aria-hidden":"true"}},[a._v("#")]),a._v(" 源码编译安装lnmp")]),a._v(" "),t("pre",[t("code",[a._v("git clone https://git.coding.net/svip/lnamp.git\nsh lnmp/lnmp.sh\n")])]),a._v(" "),t("p",[a._v("这里使用源码编译lnmp环境主要是后面需要yum安装httpd和svn(这样子的好处是，默认会整合好apache和svn无需手动在整合配置)，apache只服务于svn，而nginx+php则是为了跑svnadmin")]),a._v(" "),t("h2",{attrs:{id:"yum安装apache-svn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum安装apache-svn","aria-hidden":"true"}},[a._v("#")]),a._v(" yum安装apache+svn")]),a._v(" "),t("pre",[t("code",[a._v("yum -y install httpd subversion mod_dav_svn\n")])]),a._v(" "),t("h2",{attrs:{id:"配置apache的svn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置apache的svn","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置apache的svn")]),a._v(" "),t("p",[a._v("装完SVN后默认生成/etc/httpd/conf.d/subversion.conf文件")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@iZ setup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cat /etc/httpd/conf.d/subversion.conf ")]),a._v("\n\nLoadModule dav_svn_module     modules/mod_dav_svn.so\nLoadModule authz_svn_module   modules/mod_authz_svn.so\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Location /project/"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n            DAV svn\n            SVNListParentPath on\n            SVNParentPath /var/www/svn\n            AuthType Basic\n            AuthName "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Subversion repository"')]),a._v("\n            AuthUserFile /var/www/svnconfig/passwdfile\n            AuthzSVNAccessFile /var/www/svnconfig/accessfile\n            Require valid-user\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("/Location"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h2",{attrs:{id:"创建svn-repo目录和权限信息目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建svn-repo目录和权限信息目录","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建SVN repo目录和权限信息目录")]),a._v(" "),t("pre",[t("code",[a._v("mkdir /var/www/svn\nmkdir /var/www/svnconfig\n")])]),a._v(" "),t("h2",{attrs:{id:"创建svn权限文件和密码文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建svn权限文件和密码文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建SVN权限文件和密码文件")]),a._v(" "),t("p",[a._v("创建权限控制文件")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@iZ"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cat /var/www/svnconfig/accessfile")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("aliases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("groups"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n*"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("rw\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("qa_project:/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),t("p",[a._v("创建用户密码文件，注意这里的密码必须是加密的，需要使用 "),t("code",[a._v("htpasswd -c 123 user1")]),a._v("生成")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@iZ"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cat /var/www/svnconfig/passwdfile")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# harry = harryssecret")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sally = sallyssecret")]),a._v("\nuser1:aWW1oIsRihOHc\n")])])]),t("h2",{attrs:{id:"安装if-svnadmin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装if-svnadmin","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装iF.SVnAdmin")]),a._v(" "),t("pre",[t("code",[a._v("wget http://sourceforge.net/projects/ifsvnadmin/files/svnadmin-1.6.2.zip\nunzip svnadmin-1.6.2.zip\nmv iF.SVNAdmin-stable-1.6.2 /home/wwwroot/svnadmin\nchmod 777 -R /home/wwwroot/svnadmin/data\n")])]),a._v(" "),t("p",[a._v("配置nginx,配置apache，注意2个web引擎的端口不要冲突，并开启相应端口到防火墙")]),a._v(" "),t("h2",{attrs:{id:"初始化if-svnadmin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化if-svnadmin","aria-hidden":"true"}},[a._v("#")]),a._v(" 初始化iF.SVnAdmin")]),a._v(" "),t("p",[a._v("浏览器输入http://192.168.1.2/svnadmin/index.php")]),a._v(" "),t("p",[a._v("使用刚才生成的密码登陆进去可以看到下面的配置页面")]),a._v(" "),t("p",[t("img",{attrs:{src:"http://r.loli.io/meMjmi.png",alt:""}}),a._v("\n选择Test提示没有写入权限的话chmod一下，")]),a._v(" "),t("p",[a._v("登录后如下，可以看到软件版本信息、已有的仓库、用户、组、权限路径等")]),a._v(" "),t("h2",{attrs:{id:"投入使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#投入使用","aria-hidden":"true"}},[a._v("#")]),a._v(" 投入使用")]),a._v(" "),t("p",[a._v("svn管理地址   http://192.168.1.2/svnadmin/index.php\nsvn项目地址   http://192.168.1.2:8888/project/project_name/")])])}),[],!1,null,null,null);s.default=e.exports}}]);